from bs4 import BeautifulSoup
import requests
from concurrent.futures import ThreadPoolExecutor

mapIDData = {
	"Durotar":4,
	"Mulgore":9,
	"NorthernBarrens":11,
	"Kalimdor":13,
	"EasternKingdoms":14,
	"ArathiHighlands":16,
	"Badlands":17,
	"BlastedLands":19,
	"TirisfalGlades":20,
	"SilverpineForest":21,
	"WesternPlaguelands":22,
	"EasternPlaguelands":23,
	"HillsbradFoothills":24,
	"TheHinterlands":26,
	"DunMorogh":27,
	"SearingGorge":28,
	"BurningSteppes":29,
	"ElwynnForest":30,
	"DeadwindPass":32,
	"Duskwood":34,
	"LochModan":35,
	"RedridgeMountains":36,
	"NorthernStranglethorn":37,
	"SwampofSorrows":38,
	"Westfall":39,
	"Wetlands":40,
	"Teldrassil":41,
	"Darkshore":42,
	"Ashenvale":43,
	"ThousandNeedles":61,
	"StonetalonMountains":81,
	"Desolace":101,
	"Feralas":121,
	"DustwallowMarsh":141,
	"Tanaris":161,
	"Azshara":181,
	"Felwood":182,
	"UnGoroCrater":201,
	"Moonglade":241,
	"Silithus":261,
	"Winterspring":281,
	"StormwindCity":301,
	"Orgrimmar":321,
	"Ironforge":341,
	"ThunderBluff":362,
	"Darnassus":381,
	"Undercity":382,
	"AlteracValley":401,
	"WarsongGulch":443,
	"ArathiBasin":461,
	"EversongWoods":462,
	"Ghostlands":463,
	"AzuremystIsle":464,
	"HellfirePeninsula":465,
	"Outland":466,
	"Zangarmarsh":467,
	"TheExodar":471,
	"ShadowmoonValley":473,
	"BladesEdgeMountains":475,
	"BloodmystIsle":476,
	"Nagrand":477,
	"TerokkarForest":478,
	"Netherstorm":479,
	"SilvermoonCity":480,
	"ShattrathCity":481,
	"EyeoftheStorm":482,
	"Northrend":485,
	"BoreanTundra":486,
	"Dragonblight":488,
	"GrizzlyHills":490,
	"HowlingFjord":491,
	"Icecrown":492,
	"SholazarBasin":493,
	"TheStormPeaks":495,
	"ZulDrak":496,
	"IsleofQuelDanas":499,
	"Wintergrasp":501,
	"TheScarletEnclave":502,
	"Dalaran":504,
	"CrystalsongForest":510,
	"StrandoftheAncients":512,
	"TheNexus":520,
	"TheCullingofStratholme":521,
	"AhnkahetTheOldKingdom":522,
	"UtgardeKeep":523,
	"UtgardePinnacle":524,
	"HallsofLightning":525,
	"HallsofStone":526,
	"TheEyeofEternity":527,
	"TheOculus":528,
	"Ulduar":529,
	"Gundrak":530,
	"TheObsidianSanctum":531,
	"VaultofArchavon":532,
	"AzjolNerub":533,
	"DrakTharonKeep":534,
	"Naxxramas":535,
	"TheVioletHold":536,
	"IsleofConquest":540,
	"HrothgarsLanding":541,
	"TrialoftheChampion":542,
	"TrialoftheCrusader":543,
	"TheLostIsles":544,
	"Gilneas":545,
	"TheForgeofSouls":601,
	"PitofSaron":602,
	"HallsofReflection":603,
	"IcecrownCitadel":604,
	"Kezan":605,
	"MountHyjal":606,
	"SouthernBarrens":607,
	"TheRubySanctum":609,
	"KelptharForest":610,
	"GilneasCity":611,
	"Vashjir":613,
	"AbyssalDepths":614,
	"ShimmeringExpanse":615,
	"TwinPeaks":626,
	"Deepholm":640,
	"TheCapeofStranglethorn":673,
	"RagefireChasm":680,
	"RuinsofGilneas":684,
	"RuinsofGilneasCity":685,
	"ZulFarrak":686,
	"TheTempleofAtalHakkar":687,
	"BlackfathomDeeps":688,
	"StranglethornVale":689,
	"TheStockade":690,
	"Gnomeregan":691,
	"Uldaman":692,
	"MoltenCore":696,
	"DireMaul":699,
	"TwilightHighlands":700,
	"BlackrockDepths":704,
	"TolBarad":708,
	"TolBaradPeninsula":709,
	"TheShatteredHalls":710,
	"RuinsofAhnQiraj":717,
	"OnyxiasLair":718,
	"Uldum":720,
	"BlackrockSpire":721,
	"AuchenaiCrypts":722,
	"SethekkHalls":723,
	"ShadowLabyrinth":724,
	"TheBloodFurnace":725,
	"TheUnderbog":726,
	"TheSteamvault":727,
	"TheSlavePens":728,
	"TheBotanica":729,
	"TheMechanar":730,
	"TheArcatraz":731,
	"ManaTombs":732,
	"TheBlackMorass":733,
	"OldHillsbradFoothills":734,
	"TheBattleforGilneas":736,
	"TheMaelstrom":737,
	"LostCityoftheTolvir":747,
	"WailingCaverns":749,
	"Maraudon":750,
	"TheMaelstrom":751,
	"BaradinHold":752,
	"BlackrockCaverns":753,
	"BlackwingDescent":754,
	"BlackwingLair":755,
	"TheDeadmines":756,
	"GrimBatol":757,
	"TheBastionofTwilight":758,
	"HallsofOrigination":759,
	"RazorfenDowns":760,
	"RazorfenKraul":761,
	"ShadowfangKeep":764,
	"Stratholme":765,
	"TempleofAhnQiraj":766,
	"ThroneoftheTides":767,
	"TheStonecore":768,
	"TheVortexPinnacle":769,
	"AhnQirajTheFallenKingdom":772,
	"ThroneoftheFourWinds":773,
	"HyjalSummit":775,
	"GruulsLair":776,
	"MagtheridonsLair":779,
	"SerpentshrineCavern":780,
	"ZulAman":781,
	"TheEye":782,
	"SunwellPlateau":789,
	"ZulGurub":793,
	"MoltenFront":795,
	"BlackTemple":796,
	"HellfireRamparts":797,
	"MagistersTerrace":798,
	"Karazhan":799,
	"Firelands":800,
	"TheJadeForest":806,
	"ValleyoftheFourWinds":807,
	"TheWanderingIsle":808,
	"KunLaiSummit":809,
	"TownlongSteppes":810,
	"ValeofEternalBlossoms":811,
	"WellofEternity":816,
	"HourofTwilight":819,
	"EndTime":820,
	"DragonSoul":824,
	"TheramoresFallH":851,
	"TempleofKotmogu":856,
	"KrasarangWilds":857,
	"DreadWastes":858,
	"SilvershardMines":860,
	"Pandaria":862,
	"Northshire":864,
	"ColdridgeValley":866,
	"TempleoftheJadeSerpent":867,
	"ScarletHalls":871,
	"TheVeiledStair":873,
	"ScarletMonastery":874,
	"GateoftheSettingSun":875,
	"StormstoutBrewery":876,
	"ShadopanMonastery":877,
	"ABrewingStorm":878,
	"GreenstoneVillage":880,
	"UngaIngoo":882,
	"AssaultonZanvess":883,
	"BrewmoonFestival":884,
	"MoguShanPalace":885,
	"TerraceofEndlessSpring":886,
	"SiegeofNiuzaoTemple":887,
	"Shadowglen":888,
	"ValleyofTrials":889,
	"CampNarache":890,
	"EchoIsles":891,
	"Deathknell":892,
	"SunstriderIsle":893,
	"AmmenVale":894,
	"NewTinkertown":895,
	"MogushanVaults":896,
	"HeartofFear":897,
	"Scholomance":898,
	"ArenaofAnnihilation":899,
	"CryptofForgottenKings":900,
	"ShrineofTwoMoons":903,
	"ShrineofSevenStars":905,
	"TheramoresFallA":906,
	"LionsLandingA":911,
	"ALittlePatience":912,
	"DaggerintheDark":914,
	"DominationPointH":920,
	"IsleofThunder":928,
	"IsleofGiants":929,
	"ThroneofThunder":930,
	"DeepwindGorge":935,
	"DarkHeartofPandaria":937,
	"TheSecretsofRagefire":938,
	"BloodintheSnow":939,
	"BattleontheHighSeas":940,
	"TimelessIsle":951,
	"SiegeofOrgrimmar":953,
	"CelestialTournament":955,
	"MalornesNightmare":1086,
	"TheRoadtoFel":1099
}

#zoneID: mapID
#zoneID is used on the webpage
#mapID will be used by the addon
petZones = {}

testMaps = [5695,360,1977,6500,3792,14]

#get zone id data
mapurl = "https://mop-shoot.tauri.hu/?zone="
for i in range(1,60):
#for i in testMaps:
    
	#build the final zone id url
	url = mapurl + str(i)

	#get webpage data
	displayText = BeautifulSoup(requests.get(url).text, "html.parser")

	#extract zone name
	displayText = displayText.find('title').text
	displayText = displayText.replace(" - Zone", "")
	displayText = displayText.replace(" - TauriShoot", "")

	#if the zoneid is invalid, skip to next id
	if displayText == "Error":
		continue
    
	#remove special characters from zone name
	displayText = displayText.replace(" ", "").replace("'", "").replace(".", "").replace("-", "").replace("(", "").replace(")", "").replace(":", "")

	#check if the zonename has a mapID
	if displayText in mapIDData:
		#add zoneID as the key with the value mapID to the dictionary petZones
		petZones[i] = mapIDData[displayText]

""" for zoneID, mapID in petZones.items():
	print(zoneID," ",mapID) """